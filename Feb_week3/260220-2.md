# π€ λ°°μ—΄κ³Ό ν¬μΈν„°μ μ—°μ‚° (Pointer Arithmetic)

λ°°μ—΄μ€ λ©”λ¨λ¦¬ μƒμ—μ„ **μ—°μ†μ μΈ κ³µκ°„**μ„ μ°¨μ§€ν•λ©°, λ°°μ—΄μ μ΄λ¦„μ€ κ·Έ μ‹μ‘ μ£Όμ†λ¥Ό λ‚νƒ€λ‚΄λ” **μƒμ ν¬μΈν„°** μ—­ν• μ„ ν•©λ‹λ‹¤.

## 1. μΈλ±μ¤μ™€ κ°„μ ‘ μ°Έμ΅°(Pointer) μ ‘κ·Ό λΉ„κµ
λ°°μ—΄ μ”μ†μ— μ ‘κ·Όν•  λ•λ” μΈλ±μ¤(`[]`)λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•κ³Ό ν¬μΈν„° μ—°μ‚°(`*`)μ„ μ‚¬μ©ν•λ” λ°©λ²•μ΄ μμΌλ©°, κ²°κ³Όλ” λ™μΌν•©λ‹λ‹¤.

### μ‹¤μµ μ½”λ“ (`exam-11-02.c`)
```c
#include <stdio.h>

int main()
{
    short sarr[3] = {1, 2, 3};
    int iarr[3] = {10, 20, 30};

    // 1) μΈλ±μ¤(λ°©λ²νΈ)λ¥Ό μ΄μ©ν•΄μ„ μ ‘κ·Ό
    printf("%d %d %d\n", sarr[0], sarr[1], sarr[2]);      // 1 2 3
    printf("%d %d %d\n", iarr[0], iarr[1], iarr[2]);      // 10 20 30

    // 2) κ°„μ ‘ μ°Έμ΅°(ν¬μΈν„° μ—°μ‚°)λ¥Ό μ΄μ©ν•΄μ„ μ ‘κ·Ό
    // sarr[1]μ€ *(sarr + 1)κ³Ό κ°™μµλ‹λ‹¤.
    printf("%d %d %d\n", *sarr, *(sarr + 1), *(sarr + 2));    // 1 2 3
    printf("%d %d %d\n", *(iarr + 0), *(iarr + 1), *(iarr + 2)); // 10 20 30

    return 0;
}
```

### sarr λ©”λ¨λ¦¬ λ„μ‹
```text
sarr
+---+---+---+                                            
| 1 | 2 | 3 |                                           
+---+---+---+                                   
|   |   |
|   |   +-- sarr + 2 (μ£Όμ† 104~105) -> κ°’: *(sarr+2)
|   +-- sarr + 1 (μ£Όμ† 102~103) -> κ°’: *(sarr+1)
+-- sarr (μ£Όμ† 100~101) -> κ°’: *sarr
```

---

## 2. λ°°μ—΄ μ΄λ¦„μ€ 'μƒμ'μ΄λ‹¤ (λ°°μ—΄ vs λ³€μ)
μΌλ° λ³€μλ” `++` μ—°μ‚°μλ΅ κ°’μ„ λ°”κΏ€ μ μμ§€λ§, **λ°°μ—΄μ μ΄λ¦„μ€ μ£Όμ†κ°’μ„ λ‹΄κ³  μλ” μƒμ**μ΄λ―€λ΅ κ°’μ„ λ³€κ²½ν•  μ μ—†μµλ‹λ‹¤.

### μ—λ¬ λ°μƒ μμ  (`array12.c`)
```c
#include <stdio.h>

int main()
{
    int a = 1;
    int iarr[5] = { 1, 2, 3, 4, 5 };

    // iarr++; // [μ—λ¬ λ°μƒ] λ°°μ—΄ μ΄λ¦„μ€ μƒμμ΄λ―€λ΅ μ£Όμ† μ΄λ™(λ€μ…) λ¶κ°€
    // μ—λ¬ λ©”μ‹μ§€: lvalue required as increment operand

    a++; // [μ •μƒ] μΌλ° λ³€μλ” κ°’ λ³€κ²½ κ°€λ¥
    return 0;
}
```

---

## 3. ν¬μΈν„° μ—°μ‚°μ μ›λ¦¬ (Pointer Arithmetic)
ν¬μΈν„°μ— `1`μ„ λ”ν•  λ•, μ‹¤μ  μ£Όμ†λ” `1`λ°”μ΄νΈκ°€ μ¦κ°€ν•λ” κ²ƒμ΄ μ•„λ‹λΌ **ν•΄λ‹Ή μλ£ν•μ ν¬κΈ°λ§νΌ** μ¦κ°€ν•©λ‹λ‹¤.



* **intν• λ°°μ—΄ (`iarr + 1`)**: μ£Όμ†κ°’μ΄ `sizeof(int)`μΈ **4λ°”μ΄νΈ**λ§νΌ μ¦κ°€ν•©λ‹λ‹¤.
* **shortν• λ°°μ—΄ (`sarr + 1`)**: μ£Όμ†κ°’μ΄ `sizeof(short)`μΈ **2λ°”μ΄νΈ**λ§νΌ μ¦κ°€ν•©λ‹λ‹¤.

### iarr λ©”λ¨λ¦¬ κµ¬μ΅° λ„μ‹ (100λ²μ§€ κ°€μ •)
```text
iarr
+---+---+---+---+---+
| 1 | 2 | 3 | 4 | 5 |                                              
+---+---+---+---+---+
|   |   |   |   |   
|   |   |   |   +-- iarr + 4 (116~119) -> iarr[4], *(iarr+4)
|   |   |   +-- iarr + 3 (112~115) -> iarr[3], *(iarr+3)
|   |   +-- iarr + 2 (108~111) -> iarr[2], *(iarr+2)
|   +-- iarr + 1 (104~107) -> iarr[1], *(iarr+1)
+-- iarr (100~103) -> iarr[0], *iarr, *(iarr+0)
```

---

## π GDBλ¥Ό μ΄μ©ν• λ©”λ¨λ¦¬ μ£Όμ† λ¶„μ„ (`array12-gdb.c`)

GDBλ¥Ό ν†µν•΄ `iarr + 1`μ΄ μ‹¤μ  λ©”λ¨λ¦¬μ—μ„ μλ£ν• ν¬κΈ°λ§νΌ κ±΄λ„λ›°λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

```bash
$ gdb -q ./array12-gdb
(gdb) b main
(gdb) r
(gdb) n
# iarr[5] = {1, 2, 3, 4, 5} ν• λ‹Ή ν›„...

(gdb) p &iarr[0]
$2 = (int *) 0x7fffffffe1a0   # μ‹μ‘ μ£Όμ†

(gdb) p iarr + 1
$17 = (int *) 0x7fffffffe1a4  # μ£Όμ†κ°€ 4λ°”μ΄νΈ μ¦κ°€ν•¨

(gdb) p iarr + 2
$18 = (int *) 0x7fffffffe1a8  # λ‹¤μ‹ 4λ°”μ΄νΈ μ¦κ°€ν•¨

# ν¬μΈν„° μ—°μ‚°μΌλ΅ κ°’(Value) μ¶λ ¥
(gdb) p *iarr
$27 = 1
(gdb) p *(iarr + 1)
$21 = 2
(gdb) p *(iarr + 4)
$24 = 5
```

### β οΈ ν¬μΈν„° λ€μ… μ‹ μ£Όμμ‚¬ν•­
ν¬μΈν„°μ— λ°°μ—΄ μ£Όμ†λ¥Ό λ€μ…ν•  λ•λ” **μλ£ν•μ΄ μΌμΉ**ν•΄μ•Ό ν•©λ‹λ‹¤.
* `int a[5]; int *p1 = a;` (O) - μλ£ν•μ΄ κ°™μ•„ κ°€λ¥.
* `char *p2 = a;` (X) - μλ£ν•μ΄ λ‹¬λΌ λ¶κ°€λ¥.
